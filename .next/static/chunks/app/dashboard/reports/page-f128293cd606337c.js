(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1],{1803:function(e,t,a){Promise.resolve().then(a.bind(a,9084)),Promise.resolve().then(a.bind(a,8934))},8934:function(e,t,a){"use strict";a.d(t,{default:function(){return p}});var r=a(7437),s=a(2265),i=a(8736),n=a(9205);let l=(0,n.Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),o=(0,n.Z)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),c=(0,n.Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),d=(0,n.Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var m=a(2489);function p(){var e,t;let[a,n]=(0,s.useState)([]),[p,x]=(0,s.useState)(!0),[u,h]=(0,s.useState)(null);(0,s.useEffect)(()=>{y()},[]);let y=async()=>{try{let e=await fetch("/api/reports");if(e.ok){let t=await e.json();n(t.reports||[])}}catch(e){console.error("Error fetching reports:",e)}finally{x(!1)}},g=async e=>{if(confirm("Are you sure you want to delete this report?"))try{(await fetch("/api/reports/".concat(e),{method:"DELETE"})).ok&&n(a.filter(t=>t.id!==e))}catch(e){console.error("Error deleting report:",e)}},f=e=>{h(e)},v=e=>{let t=new Blob([JSON.stringify({property:e.propertyDetails,valuation:{estimatedValueRange:e.estimatedValueRange,confidenceScore:e.confidenceScore,currency:e.currency,reasoning:e.reasoning,detectedFeatures:e.detectedFeatures,propertyType:e.propertyType,propertyCondition:e.propertyCondition,suggestedUpgrades:e.suggestedUpgrades},timestamp:e.timestamp},null,2)],{type:"application/json"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="property-valuation-".concat(e.id,".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)},b=async e=>{var t,a,r,s;let i={title:"Property Valuation Report - ".concat((null===(t=e.propertyDetails)||void 0===t?void 0:t.address)||e.property_address||"Property"),text:"Property Valuation Report\n\n"+"Property: ".concat((null===(a=e.propertyDetails)||void 0===a?void 0:a.address)||e.property_address||"Not specified","\n")+"Type: ".concat(e.propertyType||e.property_type||"Not specified","\n")+"Condition: ".concat(e.propertyCondition||e.property_condition||"Not specified","\n")+"Estimated Value: ".concat(e.estimatedValueRange||e.estimated_value_min&&e.estimated_value_max?e.estimatedValueRange?"$".concat(e.estimatedValueRange.min.toLocaleString()," - $").concat(e.estimatedValueRange.max.toLocaleString()):"$".concat((null===(r=e.estimated_value_min)||void 0===r?void 0:r.toLocaleString())||"0"," - $").concat((null===(s=e.estimated_value_max)||void 0===s?void 0:s.toLocaleString())||"0"):"Not available","\n")+"Confidence: ".concat(e.confidenceScore||e.confidence_score||0,"%\n")+"Date: ".concat(e.timestamp||e.created_at?new Date(e.timestamp||e.created_at||"").toLocaleDateString():"Not available","\n\n")+"Analysis: ".concat(e.reasoning||e.detailed_report||"No analysis available"),url:window.location.origin+"/dashboard/reports?report=".concat(e.id)};try{navigator.share&&navigator.canShare&&navigator.canShare(i)?await navigator.share(i):(await navigator.clipboard.writeText(i.text+"\n\n"+i.url),alert("Report details copied to clipboard!"))}catch(e){console.error("Error sharing report:",e);try{await navigator.clipboard.writeText(i.text+"\n\n"+i.url),alert("Report details copied to clipboard!")}catch(e){console.error("Error copying to clipboard:",e),alert("Unable to share report. Please try downloading instead.")}}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your Reports"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"View and manage all your property valuation reports."}),p?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):a.length>0?(0,r.jsx)("div",{className:"space-y-4",children:a.map(e=>{var t,a,s;return(0,r.jsx)("div",{className:"border border-gray-200 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)(i.Z,{className:"h-5 w-5 text-gray-400 mr-2"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:(null===(t=e.propertyDetails)||void 0===t?void 0:t.address)||e.property_address||"Property Valuation"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Property Type"}),(0,r.jsx)("p",{className:"font-medium",children:e.propertyType||e.property_type||"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Condition"}),(0,r.jsx)("p",{className:"font-medium",children:e.propertyCondition||e.property_condition||"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Date"}),(0,r.jsx)("p",{className:"font-medium",children:e.timestamp||e.created_at?new Date(e.timestamp||e.created_at||"").toLocaleDateString():"Not available"})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Estimated Value"}),e.estimatedValueRange||e.estimated_value_min&&e.estimated_value_max?(0,r.jsx)("p",{className:"text-2xl font-bold text-green-600",children:e.estimatedValueRange?"$".concat(e.estimatedValueRange.min.toLocaleString()," - $").concat(e.estimatedValueRange.max.toLocaleString()):"$".concat((null===(a=e.estimated_value_min)||void 0===a?void 0:a.toLocaleString())||"0"," - $").concat((null===(s=e.estimated_value_max)||void 0===s?void 0:s.toLocaleString())||"0")}):(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-500",children:"Value not available"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[e.confidenceScore||e.confidence_score||0,"% confidence"]})]}),e.detailed_report?(0,r.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 max-h-32 overflow-y-auto",children:(0,r.jsx)("div",{className:"text-sm text-gray-700 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:e.detailed_report.replace(/\n/g,"<br>").replace(/## (.*?)(<br>|$)/g,'<h3 class="font-semibold text-gray-900 mt-2 mb-1">$1</h3>').replace(/### (.*?)(<br>|$)/g,'<h4 class="font-medium text-gray-800 mt-1 mb-1">$1</h4>').replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold">$1</strong>').replace(/\*(.*?)\*/g,'<em class="italic">$1</em>').replace(/- (.*?)(<br>|$)/g,'<li class="ml-4">$1</li>')}})}):(0,r.jsx)("p",{className:"text-gray-700 text-sm line-clamp-2",children:e.reasoning||"No detailed report available"})]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-2 ml-4",children:[(0,r.jsxs)("button",{onClick:()=>f(e),className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[(0,r.jsx)(l,{className:"h-4 w-4 mr-2"}),"View"]}),(0,r.jsxs)("button",{onClick:()=>b(e),className:"flex items-center px-3 py-2 text-sm font-medium text-blue-700 bg-white border border-blue-300 rounded-md hover:bg-blue-50",children:[(0,r.jsx)(o,{className:"h-4 w-4 mr-2"}),"Share"]}),(0,r.jsxs)("button",{onClick:()=>v(e),className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[(0,r.jsx)(c,{className:"h-4 w-4 mr-2"}),"Download"]}),(0,r.jsxs)("button",{onClick:()=>g(e.id),className:"flex items-center px-3 py-2 text-sm font-medium text-red-700 bg-white border border-red-300 rounded-md hover:bg-red-50",children:[(0,r.jsx)(d,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})},e.id)})}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(i.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No reports yet"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first property valuation."}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)("a",{href:"/dashboard/valuation",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Create Valuation"})})]})]})}),u&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>h(null)}),(0,r.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:(0,r.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Property Valuation Report"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("button",{onClick:()=>u&&b(u),className:"flex items-center px-3 py-2 text-sm font-medium text-blue-700 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100",children:[(0,r.jsx)(o,{className:"h-4 w-4 mr-2"}),"Share"]}),(0,r.jsx)("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(m.Z,{className:"h-6 w-6"})})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Property Details"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Address:"})," ",(null===(e=u.propertyDetails)||void 0===e?void 0:e.address)||u.property_address||"Not provided"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Type:"})," ",u.propertyType||u.property_type||"Not specified"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Condition:"})," ",u.propertyCondition||u.property_condition||"Not specified"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Size:"})," ",(null===(t=u.propertyDetails)||void 0===t?void 0:t.propertySize)?"".concat(u.propertyDetails.propertySize," sqft"):"Not provided"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Valuation"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Estimated Value:"})," ",u.estimatedValueRange?"$".concat(u.estimatedValueRange.min.toLocaleString()," - $").concat(u.estimatedValueRange.max.toLocaleString()):u.estimated_value_min&&u.estimated_value_max?"$".concat(u.estimated_value_min.toLocaleString()," - $").concat(u.estimated_value_max.toLocaleString()):"Not available"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Confidence:"})," ",u.confidenceScore||u.confidence_score||0,"%"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Currency:"})," ",u.currency||"USD"]})]})]})]}),u.detailed_report?(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Detailed Report"}),(0,r.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:(0,r.jsx)("div",{className:"text-sm text-gray-700 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:u.detailed_report.replace(/\n/g,"<br>").replace(/## (.*?)(<br>|$)/g,'<h3 class="font-semibold text-gray-900 mt-4 mb-2">$1</h3>').replace(/### (.*?)(<br>|$)/g,'<h4 class="font-medium text-gray-800 mt-3 mb-1">$1</h4>').replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold">$1</strong>').replace(/\*(.*?)\*/g,'<em class="italic">$1</em>').replace(/- (.*?)(<br>|$)/g,'<li class="ml-4">$1</li>')}})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Analysis"}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:u.reasoning})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Detected Features"}),(0,r.jsx)("ul",{className:"text-sm text-gray-700 list-disc list-inside",children:u.detectedFeatures&&u.detectedFeatures.length>0?u.detectedFeatures.map((e,t)=>(0,r.jsx)("li",{children:e},t)):(0,r.jsx)("li",{children:"No features detected"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Suggested Upgrades"}),(0,r.jsx)("div",{className:"space-y-3",children:u.suggestedUpgrades&&u.suggestedUpgrades.length>0?u.suggestedUpgrades.map((e,t)=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3",children:[(0,r.jsx)("h5",{className:"font-medium text-gray-900",children:e.upgrade}),(0,r.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:e.reasoning}),(0,r.jsxs)("div",{className:"flex gap-4 mt-2 text-xs text-gray-500",children:[(0,r.jsxs)("span",{children:["Cost: ",e.estimatedCost]}),(0,r.jsxs)("span",{children:["Impact: ",e.impactOnValue]})]})]},t)):(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"No upgrade suggestions available"})})]})]})]})]})})]})})]})}},9205:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var r=a(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),n=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:d="",children:m,iconNode:p,...x}=e;return(0,r.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:a,strokeWidth:n?24*Number(i)/Number(s):i,className:l("lucide",d),...!m&&!o(x)&&{"aria-hidden":"true"},...x},[...p.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(m)?m:[m]])}),m=(e,t)=>{let a=(0,r.forwardRef)((a,i)=>{let{className:o,...c}=a;return(0,r.createElement)(d,{ref:i,iconNode:t,className:l("lucide-".concat(s(n(e))),"lucide-".concat(e),o),...c})});return a.displayName=n(e),a}},9232:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},8736:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},4938:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},7692:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},8293:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]])},8728:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2369:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2489:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9376:function(e,t,a){"use strict";var r=a(5475);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[338,84,971,117,744],function(){return e(e.s=1803)}),_N_E=e.O()}]);